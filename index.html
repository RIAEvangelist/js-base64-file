<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Js-base64-file : node loading, converting and saving of base64 images. Perfect for image data uri use!">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Js-base64-file</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/RIAEvangelist/js-base64-file">View on GitHub</a>

          <h1 id="project_title">Js-base64-file</h1>
          <h2 id="project_tagline">node loading, converting and saving of base64 images. Perfect for image data uri use!</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/RIAEvangelist/js-base64-file/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/RIAEvangelist/js-base64-file/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="base64-file-loading-converting-and-saving-for-nodejs" class="anchor" href="#base64-file-loading-converting-and-saving-for-nodejs" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Base64 File loading, converting and saving for node.js</h1>

<p>This is an ideal way to load or convert local files to base64 either for use as a string or to save on disk.</p>

<p>install <code>npm i --save js-base64-file</code></p>

<table>
<thead>
<tr>
<th>method</th>
<th>params</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>load</td>
<td>path,fileName,callback</td>
<td>loads a local file and converts it to base64 if needed. <strong><em>note : path should always end with a slash</em></strong>
</td>
</tr>
<tr>
<td>loadSync</td>
<td>path,fileName</td>
<td>same as load, but it returns the base64 string instead of passing it to a callback. This could be slow on really large files.</td>
</tr>
<tr>
<td>save</td>
<td>data,path,fileName,callback</td>
<td>saves the data to the specified path and filename</td>
</tr>
</tbody>
</table>

<table>
<thead>
<tr>
<th>callback</th>
<th>params</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>load</td>
<td>err, base64Data</td>
<td>gives you the base64 encoded file data</td>
</tr>
<tr>
<td>save</td>
<td>err</td>
<td>will pass any errors back</td>
</tr>
</tbody>
</table>

<h1>
<a id="examples" class="anchor" href="#examples" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Examples</h1>

<h3>
<a id="loading-and-converting-an-image-for-use-in-the-browser-as-a-data-uri" class="anchor" href="#loading-and-converting-an-image-for-use-in-the-browser-as-a-data-uri" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>loading and converting an image for use in the browser as a data URI</h3>

<div class="highlight highlight-source-js"><pre>
    <span class="pl-k">const</span> <span class="pl-c1">Base64File</span><span class="pl-k">=</span><span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>js-base64-file<span class="pl-pds">'</span></span>);
    <span class="pl-k">const</span> <span class="pl-c1">image</span><span class="pl-k">=</span><span class="pl-k">new</span> <span class="pl-en">Base64File</span>;

    <span class="pl-k">const</span> <span class="pl-c1">file</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>test.png<span class="pl-pds">'</span></span>;

    <span class="pl-c">//path should alwas end in a /</span>
    <span class="pl-k">const</span> <span class="pl-c1">path</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">`</span><span class="pl-s1"><span class="pl-pse">${</span><span class="pl-c1">__dirname</span><span class="pl-pse">}</span></span>/<span class="pl-pds">`</span></span>;

    <span class="pl-c">//this will load and convert if needed</span>
    <span class="pl-k">const</span> <span class="pl-c1">data</span><span class="pl-k">=</span><span class="pl-smi">image</span>.<span class="pl-en">loadSync</span>(path,file);
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>you could send this image via ws or http to the browser now : <span class="pl-cce">\n</span><span class="pl-pds">'</span></span>,data);
</pre></div>

<h3>
<a id="saving-the-above-converted-image-for-later-use" class="anchor" href="#saving-the-above-converted-image-for-later-use" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>saving the above converted image for later use.</h3>

<div class="highlight highlight-source-js"><pre>
    <span class="pl-smi">image</span>.<span class="pl-en">save</span>(data,path,<span class="pl-s"><span class="pl-pds">`</span>copy-b64-<span class="pl-s1"><span class="pl-pse">${</span>file<span class="pl-pse">}</span></span><span class="pl-pds">`</span></span>);
</pre></div>

<p>It's that simple! And it will work with any file type!</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Js-base64-file maintained by <a href="https://github.com/RIAEvangelist">RIAEvangelist</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
